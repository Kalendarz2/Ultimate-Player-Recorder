#Scores
execute if score @s settings matches 1 run data modify storage minecraft:animation TempAnimation.Loop set value 0
execute if score @s settings matches 2 run data modify storage minecraft:animation TempAnimation.Loop set value 1
execute if score @s settings matches 3 run data modify storage minecraft:animation TempAnimation.Relative set value 0
execute if score @s settings matches 4 run data modify storage minecraft:animation TempAnimation.Relative set value 1
execute if score @s settings matches 5 run data modify storage minecraft:animation TempAnimation.Beginning set value 0
execute if score @s settings matches 6 run data modify storage minecraft:animation TempAnimation.Beginning set value 1
execute if score @s settings matches 7 run data modify storage minecraft:animation TempAnimation.Manual set value 0
execute if score @s settings matches 8 run data modify storage minecraft:animation TempAnimation.Manual set value 1

execute if score @s settings matches 122 run data modify storage minecraft:animation TempAnimation.Sync set value 0
execute if score @s settings matches 123 run data modify storage minecraft:animation TempAnimation.Sync set value 1
execute if score @s settings matches 124 run data modify storage minecraft:animation TempAnimation.Sync set value 2

execute if score @s settings matches 11 run data modify storage minecraft:animation TempAnimation.Position set value 0
execute if score @s settings matches 12 run data modify storage minecraft:animation TempAnimation.Position set value 1
execute if score @s settings matches 13 run data modify storage minecraft:animation TempAnimation.Rotation set value 0
execute if score @s settings matches 14 run data modify storage minecraft:animation TempAnimation.Rotation set value 1
execute if score @s settings matches 15 run data modify storage minecraft:animation TempAnimation.Item set value 0
execute if score @s settings matches 16 run data modify storage minecraft:animation TempAnimation.Item set value 1
execute if score @s settings matches 17 run data modify storage minecraft:animation TempAnimation.Placed set value 0
execute if score @s settings matches 18 run data modify storage minecraft:animation TempAnimation.Placed set value 1
execute if score @s settings matches 19 run data modify storage minecraft:animation TempAnimation.Broken set value 0
execute if score @s settings matches 20 run data modify storage minecraft:animation TempAnimation.Broken set value 1
execute if score @s settings matches 21 run data modify storage minecraft:animation TempAnimation.Spawned set value 0
execute if score @s settings matches 22 run data modify storage minecraft:animation TempAnimation.Spawned set value 1
execute if score @s settings matches 23 run data modify storage minecraft:animation TempAnimation.Sneaking set value 0
execute if score @s settings matches 24 run data modify storage minecraft:animation TempAnimation.Sneaking set value 1

execute if score @s settings matches 100 run data modify storage minecraft:animation TempAnimation.Frequency set value 0
execute if score @s settings matches 101 run data modify storage minecraft:animation TempAnimation.Frequency set value 1
execute if score @s settings matches 102 run data modify storage minecraft:animation TempAnimation.Frequency set value 2
execute if score @s settings matches 103 run data modify storage minecraft:animation TempAnimation.Frequency set value 3
execute if score @s settings matches 104 run data modify storage minecraft:animation TempAnimation.Frequency set value 4
execute if score @s settings matches 105 run data modify storage minecraft:animation TempAnimation.Frequency set value 5
execute if score @s settings matches 106 run data modify storage minecraft:animation TempAnimation.Frequency set value 6

execute if score @s settings matches 120 run data modify storage minecraft:animation TempAnimation.Reverse set value 0
execute if score @s settings matches 121 run data modify storage minecraft:animation TempAnimation.Reverse set value 1

execute if score @s settings matches 110 run data modify storage minecraft:animation TempAnimation.Speed set value 4
execute if score @s settings matches 111 run data modify storage minecraft:animation TempAnimation.Speed set value 3
execute if score @s settings matches 112 run data modify storage minecraft:animation TempAnimation.Speed set value 2
execute if score @s settings matches 113 run data modify storage minecraft:animation TempAnimation.Speed set value 1
execute if score @s settings matches 114 run data modify storage minecraft:animation TempAnimation.Speed set value 0


playsound minecraft:ui.button.click master @s ~ ~ ~ 1 1 1
execute if score @s settings matches 30 run data modify storage minecraft:animation DefaultSettings set from storage minecraft:animation TempAnimation

#Display
execute if data storage minecraft:animation TempAnimation{Loop:0} run data modify storage minecraft:animation RecordSettings.Loop set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 2"}}]'
execute if data storage minecraft:animation TempAnimation{Loop:1} run data modify storage minecraft:animation RecordSettings.Loop set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 1"}}]'
execute if data storage minecraft:animation TempAnimation{Relative:0} run data modify storage minecraft:animation RecordSettings.Relative set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 4"}}]'
execute if data storage minecraft:animation TempAnimation{Relative:1} run data modify storage minecraft:animation RecordSettings.Relative set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 3"}}]'

execute if data storage minecraft:animation TempAnimation{Beginning:0} run data modify storage minecraft:animation RecordSettings.Beginning set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 6"}}]'
execute if data storage minecraft:animation TempAnimation{Beginning:1} run data modify storage minecraft:animation RecordSettings.Beginning set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 5"}}]'
execute if data storage minecraft:animation TempAnimation{Loop:0} run data modify storage minecraft:animation RecordSettings.Beginning set value '[{"text":"§8Disabled"}]'
execute if data storage minecraft:animation TempAnimation{Relative:0} run data modify storage minecraft:animation RecordSettings.Beginning set value '[{"text":"§8Disabled"}]'

execute if data storage minecraft:animation TempAnimation{Manual:0} run data modify storage minecraft:animation RecordSettings.Manual set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 8"}}]'
execute if data storage minecraft:animation TempAnimation{Manual:1} run data modify storage minecraft:animation RecordSettings.Manual set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 7"}}]'

execute if data storage minecraft:animation TempAnimation{Sync:0} run data modify storage minecraft:animation RecordSettings.Sync set value '[{"text":"§2Book","clickEvent":{"action":"run_command","value":"/trigger settings set 122"}},{"text":" §7| "},{"text":"§8Sync","clickEvent":{"action":"run_command","value":"/trigger settings set 123"}},{"text":" §7| "},{"text":"§8Move","clickEvent":{"action":"run_command","value":"/trigger settings set 124"}}]'
execute if data storage minecraft:animation TempAnimation{Sync:1} run data modify storage minecraft:animation RecordSettings.Sync set value '[{"text":"§8Book","clickEvent":{"action":"run_command","value":"/trigger settings set 122"}},{"text":" §7| "},{"text":"§2Sync","clickEvent":{"action":"run_command","value":"/trigger settings set 123"}},{"text":" §7| "},{"text":"§8Move","clickEvent":{"action":"run_command","value":"/trigger settings set 124"}}]'
execute if data storage minecraft:animation TempAnimation{Sync:2} run data modify storage minecraft:animation RecordSettings.Sync set value '[{"text":"§8Book","clickEvent":{"action":"run_command","value":"/trigger settings set 122"}},{"text":" §7| "},{"text":"§8Sync","clickEvent":{"action":"run_command","value":"/trigger settings set 123"}},{"text":" §7| "},{"text":"§2Move","clickEvent":{"action":"run_command","value":"/trigger settings set 124"}}]'

execute if data storage minecraft:animation TempAnimation{Position:0} run data modify storage minecraft:animation RecordSettings.Position set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 12"}}]'
execute if data storage minecraft:animation TempAnimation{Position:1} run data modify storage minecraft:animation RecordSettings.Position set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 11"}}]'
execute if data storage minecraft:animation TempAnimation{Rotation:0} run data modify storage minecraft:animation RecordSettings.Rotation set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 14"}}]'
execute if data storage minecraft:animation TempAnimation{Rotation:1} run data modify storage minecraft:animation RecordSettings.Rotation set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 13"}}]'
execute if data storage minecraft:animation TempAnimation{Item:0} run data modify storage minecraft:animation RecordSettings.Item set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 16"}}]'
execute if data storage minecraft:animation TempAnimation{Item:1} run data modify storage minecraft:animation RecordSettings.Item set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 15"}}]'
execute if data storage minecraft:animation TempAnimation{Placed:0} run data modify storage minecraft:animation RecordSettings.Placed set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 18"}}]'
execute if data storage minecraft:animation TempAnimation{Placed:1} run data modify storage minecraft:animation RecordSettings.Placed set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 17"}}]'
execute if data storage minecraft:animation TempAnimation{Broken:0} run data modify storage minecraft:animation RecordSettings.Broken set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 20"}}]'
execute if data storage minecraft:animation TempAnimation{Broken:1} run data modify storage minecraft:animation RecordSettings.Broken set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 19"}}]'
execute if data storage minecraft:animation TempAnimation{Spawned:0} run data modify storage minecraft:animation RecordSettings.Spawned set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 22"}}]'
execute if data storage minecraft:animation TempAnimation{Spawned:1} run data modify storage minecraft:animation RecordSettings.Spawned set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 21"}}]'
execute if data storage minecraft:animation TempAnimation{Sneaking:0} run data modify storage minecraft:animation RecordSettings.Sneaking set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 24"}}]'
execute if data storage minecraft:animation TempAnimation{Sneaking:1} run data modify storage minecraft:animation RecordSettings.Sneaking set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 23"}}]'

execute if data storage minecraft:animation TempAnimation{Frequency:0} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§220 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:1} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§210 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:2} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§25 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:3} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§22 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:4} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§21 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:5} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§20.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§80.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Frequency:6} run data modify storage minecraft:animation RecordSettings.Frequency set value '["",{"text":"§820 ","clickEvent":{"action":"run_command","value":"/trigger settings set 100"}},{"text":"§810 ","clickEvent":{"action":"run_command","value":"/trigger settings set 101"}},{"text":"§85 ","clickEvent":{"action":"run_command","value":"/trigger settings set 102"}},{"text":"§82 ","clickEvent":{"action":"run_command","value":"/trigger settings set 103"}},{"text":"§81 ","clickEvent":{"action":"run_command","value":"/trigger settings set 104"}},{"text":"§80.5 ","clickEvent":{"action":"run_command","value":"/trigger settings set 105"}},{"text":"§20.25","clickEvent":{"action":"run_command","value":"/trigger settings set 106"}}]'
execute if data storage minecraft:animation TempAnimation{Manual:1} run data modify storage minecraft:animation RecordSettings.Frequency set value '[{"text":"§8Disabled"}]'

execute if data storage minecraft:animation TempAnimation{Reverse:0} run data modify storage minecraft:animation RecordSettings.Reverse set value '[{"text":"§8True §7| §cFalse","clickEvent":{"action":"run_command","value":"/trigger settings set 121"}}]'
execute if data storage minecraft:animation TempAnimation{Reverse:1} run data modify storage minecraft:animation RecordSettings.Reverse set value '[{"text":"§aTrue §7| §8False","clickEvent":{"action":"run_command","value":"/trigger settings set 120"}}]'

execute if data storage minecraft:animation TempAnimation{Speed:4} run data modify storage minecraft:animation RecordSettings.Speed set value '["",{"text":"§24x ","clickEvent":{"action":"run_command","value":"/trigger settings set 110"}},{"text":"§82x ","clickEvent":{"action":"run_command","value":"/trigger settings set 111"}},{"text":"§81x ","clickEvent":{"action":"run_command","value":"/trigger settings set 112"}},{"text":"§80.5x ","clickEvent":{"action":"run_command","value":"/trigger settings set 113"}},{"text":"§80.25x ","clickEvent":{"action":"run_command","value":"/trigger settings set 114"}}]'
execute if data storage minecraft:animation TempAnimation{Speed:3} run data modify storage minecraft:animation RecordSettings.Speed set value '["",{"text":"§84x ","clickEvent":{"action":"run_command","value":"/trigger settings set 110"}},{"text":"§22x ","clickEvent":{"action":"run_command","value":"/trigger settings set 111"}},{"text":"§81x ","clickEvent":{"action":"run_command","value":"/trigger settings set 112"}},{"text":"§80.5x ","clickEvent":{"action":"run_command","value":"/trigger settings set 113"}},{"text":"§80.25x ","clickEvent":{"action":"run_command","value":"/trigger settings set 114"}}]'
execute if data storage minecraft:animation TempAnimation{Speed:2} run data modify storage minecraft:animation RecordSettings.Speed set value '["",{"text":"§84x ","clickEvent":{"action":"run_command","value":"/trigger settings set 110"}},{"text":"§82x ","clickEvent":{"action":"run_command","value":"/trigger settings set 111"}},{"text":"§21x ","clickEvent":{"action":"run_command","value":"/trigger settings set 112"}},{"text":"§80.5x ","clickEvent":{"action":"run_command","value":"/trigger settings set 113"}},{"text":"§80.25x ","clickEvent":{"action":"run_command","value":"/trigger settings set 114"}}]'
execute if data storage minecraft:animation TempAnimation{Speed:1} run data modify storage minecraft:animation RecordSettings.Speed set value '["",{"text":"§84x ","clickEvent":{"action":"run_command","value":"/trigger settings set 110"}},{"text":"§82x ","clickEvent":{"action":"run_command","value":"/trigger settings set 111"}},{"text":"§81x ","clickEvent":{"action":"run_command","value":"/trigger settings set 112"}},{"text":"§20.5x ","clickEvent":{"action":"run_command","value":"/trigger settings set 113"}},{"text":"§80.25x ","clickEvent":{"action":"run_command","value":"/trigger settings set 114"}}]'
execute if data storage minecraft:animation TempAnimation{Speed:0} run data modify storage minecraft:animation RecordSettings.Speed set value '["",{"text":"§84x ","clickEvent":{"action":"run_command","value":"/trigger settings set 110"}},{"text":"§82x ","clickEvent":{"action":"run_command","value":"/trigger settings set 111"}},{"text":"§81x ","clickEvent":{"action":"run_command","value":"/trigger settings set 112"}},{"text":"§80.5x ","clickEvent":{"action":"run_command","value":"/trigger settings set 113"}},{"text":"§20.25x ","clickEvent":{"action":"run_command","value":"/trigger settings set 114"}}]'

#Custom events
execute if score @s settings matches 50..53 run kill @e[tag=rc_minecart_group]
execute if score @s settings matches 50 at @s run summon minecraft:armor_stand ~ ~ ~ {Marker:1,Tags:["rc_minecart_stand","rc_minecart_group"],Invisible:1,Passengers:[{id:"command_block_minecart",Command:"execute as @e[tag=pl_command] if score @s pl_id = @e[tag=command_marker,limit=1,sort=nearest] pl_id2 at @s run <COMMAND>",Tags:["rc_minecart","rc_minecart_group","rc_minecart1"]}]}
execute if score @s settings matches 51 at @s run summon minecraft:armor_stand ~ ~ ~ {Marker:1,Tags:["rc_minecart_stand","rc_minecart_group"],Invisible:1,Passengers:[{id:"command_block_minecart",Command:"execute as @e[tag=pl_command] if score @s pl_id = @e[tag=command_marker,limit=1,sort=nearest] pl_id2 at @s run <COMMAND>",Tags:["rc_minecart","rc_minecart_group","rc_minecart2"]}]}
execute if score @s settings matches 52 at @s run summon minecraft:armor_stand ~ ~ ~ {Marker:1,Tags:["rc_minecart_stand","rc_minecart_group"],Invisible:1,Passengers:[{id:"command_block_minecart",Command:"execute as @e[tag=pl_command] if score @s pl_id = @e[tag=command_marker,limit=1,sort=nearest] pl_id2 at @s run <COMMAND>",Tags:["rc_minecart","rc_minecart_group","rc_minecart3"]}]}
execute if score @s settings matches 53 at @s run summon minecraft:armor_stand ~ ~ ~ {Marker:1,Tags:["rc_minecart_stand","rc_minecart_group"],Invisible:1,Passengers:[{id:"command_block_minecart",Command:"execute as @e[tag=pl_command] if score @s pl_id = @e[tag=command_marker,limit=1,sort=nearest] pl_id2 at @s run <COMMAND>",Tags:["rc_minecart","rc_minecart_group","rc_minecart4"]}]}
execute if score @s settings matches 50..53 run tellraw @s {"text":"Type your command into the minecraft and press \"Done\"","color":"yellow"}

execute if score @s settings matches 60 run data modify storage minecraft:animation Event.Event1.Type set value 2
execute if score @s settings matches 61 run data modify storage minecraft:animation Event.Event2.Type set value 2
execute if score @s settings matches 62 run data modify storage minecraft:animation Event.Event3.Type set value 2
execute if score @s settings matches 63 run data modify storage minecraft:animation Event.Event4.Type set value 2

#
execute if score @s settings matches 70 run data modify storage minecraft:animation Event.Event1.Type set value 3
execute if score @s settings matches 71 run data modify storage minecraft:animation Event.Event2.Type set value 3
execute if score @s settings matches 72 run data modify storage minecraft:animation Event.Event3.Type set value 3
execute if score @s settings matches 73 run data modify storage minecraft:animation Event.Event4.Type set value 3

execute if score @s settings matches 90 run scoreboard players add $event1 score 1
execute if score @s settings matches 91 run scoreboard players add $event2 score 1
execute if score @s settings matches 92 run scoreboard players add $event3 score 1
execute if score @s settings matches 93 run scoreboard players add $event4 score 1

execute if score @s settings matches 94 run scoreboard players remove $event1 score 1
execute if score @s settings matches 95 run scoreboard players remove $event2 score 1
execute if score @s settings matches 96 run scoreboard players remove $event3 score 1
execute if score @s settings matches 97 run scoreboard players remove $event4 score 1

execute unless data storage minecraft:animation Event.Event1{Type:3} run scoreboard players set $event1 score 0
execute unless data storage minecraft:animation Event.Event2{Type:3} run scoreboard players set $event2 score 0
execute unless data storage minecraft:animation Event.Event3{Type:3} run scoreboard players set $event3 score 0
execute unless data storage minecraft:animation Event.Event4{Type:3} run scoreboard players set $event4 score 0

#
execute if score @s settings matches 80 run data remove storage minecraft:animation Event.Event1
execute if score @s settings matches 81 run data remove storage minecraft:animation Event.Event2
execute if score @s settings matches 82 run data remove storage minecraft:animation Event.Event3
execute if score @s settings matches 83 run data remove storage minecraft:animation Event.Event4

#Custom events display
execute if data storage minecraft:animation Event.Event1{Type:1} run data modify storage minecraft:animation RecordSettings.Event1 set value '[{"text":"§3Command","hoverEvent":{"action":"show_text","contents":[{"nbt":"Event.Event1.Action","storage":"minecraft:animation","color":"gold"}]}}]'
execute if data storage minecraft:animation Event.Event2{Type:1} run data modify storage minecraft:animation RecordSettings.Event2 set value '[{"text":"§3Command","hoverEvent":{"action":"show_text","contents":[{"nbt":"Event.Event2.Action","storage":"minecraft:animation","color":"gold"}]}}]'
execute if data storage minecraft:animation Event.Event3{Type:1} run data modify storage minecraft:animation RecordSettings.Event3 set value '[{"text":"§3Command","hoverEvent":{"action":"show_text","contents":[{"nbt":"Event.Event3.Action","storage":"minecraft:animation","color":"gold"}]}}]'
execute if data storage minecraft:animation Event.Event4{Type:1} run data modify storage minecraft:animation RecordSettings.Event4 set value '[{"text":"§3Command","hoverEvent":{"action":"show_text","contents":[{"nbt":"Event.Event4.Action","storage":"minecraft:animation","color":"gold"}]}}]'

execute if data storage minecraft:animation Event.Event1{Type:2} run data modify storage minecraft:animation RecordSettings.Event1 set value '[{"text":"§3Synchronize"}]'
execute if data storage minecraft:animation Event.Event2{Type:2} run data modify storage minecraft:animation RecordSettings.Event2 set value '[{"text":"§3Synchronize"}]'
execute if data storage minecraft:animation Event.Event3{Type:2} run data modify storage minecraft:animation RecordSettings.Event3 set value '[{"text":"§3Synchronize"}]'
execute if data storage minecraft:animation Event.Event4{Type:2} run data modify storage minecraft:animation RecordSettings.Event4 set value '[{"text":"§3Synchronize"}]'

execute if data storage minecraft:animation Event.Event1{Type:3} run data modify storage minecraft:animation RecordSettings.Event1 set value '["",{"text":"§3Score ","hoverEvent":{"action":"show_text","contents":[{"score":{"name":"$event1","objective":"score"},"color":"gold"}]}},{"text":"§a+ ","clickEvent":{"action":"run_command","value":"/trigger settings set 90"}},{"text":"§c-","clickEvent":{"action":"run_command","value":"/trigger settings set 94"}}]'
execute if data storage minecraft:animation Event.Event2{Type:3} run data modify storage minecraft:animation RecordSettings.Event2 set value '["",{"text":"§3Score ","hoverEvent":{"action":"show_text","contents":[{"score":{"name":"$event2","objective":"score"},"color":"gold"}]}},{"text":"§a+ ","clickEvent":{"action":"run_command","value":"/trigger settings set 91"}},{"text":"§c-","clickEvent":{"action":"run_command","value":"/trigger settings set 95"}}]'
execute if data storage minecraft:animation Event.Event3{Type:3} run data modify storage minecraft:animation RecordSettings.Event3 set value '["",{"text":"§3Score ","hoverEvent":{"action":"show_text","contents":[{"score":{"name":"$event3","objective":"score"},"color":"gold"}]}},{"text":"§a+ ","clickEvent":{"action":"run_command","value":"/trigger settings set 92"}},{"text":"§c-","clickEvent":{"action":"run_command","value":"/trigger settings set 96"}}]'
execute if data storage minecraft:animation Event.Event4{Type:3} run data modify storage minecraft:animation RecordSettings.Event4 set value '["",{"text":"§3Score ","hoverEvent":{"action":"show_text","contents":[{"score":{"name":"$event4","objective":"score"},"color":"gold"}]}},{"text":"§a+ ","clickEvent":{"action":"run_command","value":"/trigger settings set 93"}},{"text":"§c-","clickEvent":{"action":"run_command","value":"/trigger settings set 97"}}]'

execute unless data storage minecraft:animation Event.Event1 run data modify storage minecraft:animation RecordSettings.Event1 set value '[{"text":"§3-"}]'
execute unless data storage minecraft:animation Event.Event2 run data modify storage minecraft:animation RecordSettings.Event2 set value '[{"text":"§3-"}]'
execute unless data storage minecraft:animation Event.Event3 run data modify storage minecraft:animation RecordSettings.Event3 set value '[{"text":"§3-"}]'
execute unless data storage minecraft:animation Event.Event4 run data modify storage minecraft:animation RecordSettings.Event4 set value '[{"text":"§3-"}]'


#Give book
clear @s written_book{Settings:1}
item replace entity @s weapon.mainhand with written_book{Settings:1,pages:["[\"\",{\"text\":\"Animation Settings\",\"bold\":true,\"underlined\":true,\"color\":\"red\"},\"\\n\",\"\\n\",{\"text\":\"Loop animation \",\"color\":\"light_purple\"},{\"text\":\"(?):\",\"color\":\"light_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"If true, the animation will loop until it is disabled\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Loop\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Relative position \",\"color\":\"dark_purple\"},{\"text\":\"(?):\",\"color\":\"dark_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"If true, the animation will be played relative to the entity's initial position\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Relative\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Loop from start \",\"color\":\"light_purple\"},{\"text\":\"(?):\",\"color\":\"light_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Requires loop and relative position. If true, the animation will always loop from the initial position\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Beginning\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Manual frames \",\"color\":\"dark_purple\"},{\"text\":\"(?):\",\"color\":\"dark_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Save frames using a carrot on a stick. Recommended for animated structures. Blocks will only be saved if they are inside the outline\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Manual\",\"storage\":\"minecraft:animation\",\"interpret\":true}]","[\"\",{\"text\":\"Start trigger \",\"color\":\"light_purple\"},{\"text\":\"(?):\",\"color\":\"light_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Choose how to start recording.\",\"color\":\"gold\"},\"\\n\",{\"text\":\"Book \",\"color\":\"light_purple\"},{\"text\":\"- after signing the book\",\"color\":\"gray\"},\"\\n\",{\"text\":\"Sync \",\"color\":\"light_purple\"},{\"text\":\"- recording will start when another animation executes a sync event\",\"color\":\"gray\"},\"\\n\",{\"text\":\"Move \",\"color\":\"light_purple\"},{\"text\":\"- when the player makes any movement\",\"color\":\"gray\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Sync\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Tick frequency \",\"color\":\"dark_purple\"},{\"text\":\"(?)\",\"color\":\"dark_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Recording frequency in ticks per second. 20 - normal speed. Not compatible with manual frames\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Frequency\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Reverse animation \",\"color\":\"light_purple\"},{\"text\":\"(?)\",\"color\":\"light_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Play the animation backwards\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Reverse\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Playback speed \",\"color\":\"dark_purple\"},{\"text\":\"(?)\",\"color\":\"dark_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Animation playback rate. For normal speed, it should be synchronized with the recording frequency\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Speed\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Save to defaults \",\"color\":\"dark_green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 30\"}},{\"text\":\"(?)\",\"color\":\"dark_green\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Save the current settings as the default\",\"color\":\"gold\"}]}}]","[\"\",{\"text\":\"Record Events \",\"bold\":true,\"underlined\":true,\"color\":\"red\"},{\"text\":\"(?)\",\"bold\":true,\"underlined\":true,\"color\":\"red\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Choose what actions you want to display in the animation. If you don't save an event, it won't be possible to enable it in the editor.\",\"color\":\"gold\"}]}},\"\\n\",\"\\n\",{\"text\":\"Position:\",\"color\":\"dark_purple\"},\"\\n\",{\"nbt\":\"RecordSettings.Position\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Rotation:\",\"color\":\"light_purple\"},\"\\n\",{\"nbt\":\"RecordSettings.Rotation\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Item in hand:\",\"color\":\"dark_purple\"},\"\\n\",{\"nbt\":\"RecordSettings.Item\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Placed blocks:\",\"color\":\"light_purple\"},\"\\n\",{\"nbt\":\"RecordSettings.Placed\",\"storage\":\"minecraft:animation\",\"interpret\":true}]","[\"\",{\"text\":\"Broken blocks:\",\"color\":\"dark_purple\"},\"\\n\",{\"nbt\":\"RecordSettings.Broken\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Spawned entities \",\"color\":\"light_purple\"},{\"text\":\"(?):\",\"color\":\"light_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Records only entities without AI, such as snowballs, arrows, items or boats\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Spawned\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",\"\\n\",{\"text\":\"Sneaking \",\"color\":\"dark_purple\"},{\"text\":\"(?):\",\"color\":\"dark_purple\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Only visible on NPCs from compatible datapacks\",\"color\":\"gold\"}]}},\"\\n\",{\"nbt\":\"RecordSettings.Sneaking\",\"storage\":\"minecraft:animation\",\"interpret\":true}]","[\"\",{\"text\":\"Custom Events \",\"bold\":true,\"underlined\":true,\"color\":\"red\"},{\"text\":\"(?)\",\"bold\":true,\"underlined\":true,\"color\":\"red\",\"hoverEvent\":{\"action\":\"show_text\",\"contents\":[{\"text\":\"Custom events can be activated during recording by using a carrot on a stick.\",\"color\":\"gold\"},\"\\n\",{\"text\":\"Cmd \",\"color\":\"light_purple\"},{\"text\":\"- If left default value, executes a command as the entity or if removed, as a command block\",\"color\":\"gray\"},\"\\n\",{\"text\":\"Sync \",\"color\":\"light_purple\"},{\"text\":\"- triggers recording synchronization\",\"color\":\"gray\"},\"\\n\",{\"text\":\"Score \",\"color\":\"light_purple\"},{\"text\":\"- sets \\\"score\\\" scoreboard on the entity\",\"color\":\"gray\"},\"\\n\",{\"text\":\"Anim\",\"strikethrough\":true,\"color\":\"light_purple\"},{\"text\":\" - available only in the editor. Stops the ongoing animation and performs the selected one\",\"color\":\"gray\"}]}},\"\\n\",\"\\n\",{\"text\":\"Event 1: \",\"color\":\"light_purple\"},{\"nbt\":\"RecordSettings.Event1\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",{\"text\":\"Cmd\",\"color\":\"dark_green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 50\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Sync\",\"color\":\"blue\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 60\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Score\",\"color\":\"gold\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 70\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"X\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 80\"}},\"\\n\",\"\\n\",{\"text\":\"Event 2: \",\"color\":\"dark_purple\"},{\"nbt\":\"RecordSettings.Event2\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",{\"text\":\"Cmd\",\"color\":\"dark_green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 51\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Sync\",\"color\":\"blue\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 61\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Score\",\"color\":\"gold\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 71\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"X\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 81\"}},\"\\n\",\"\\n\",{\"text\":\"Event 3: \",\"color\":\"light_purple\"},{\"nbt\":\"RecordSettings.Event3\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",{\"text\":\"Cmd\",\"color\":\"dark_green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 52\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Sync\",\"color\":\"blue\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 62\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Score\",\"color\":\"gold\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 72\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"X\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 82\"}},\"\\n\",\"\\n\",{\"text\":\"Event 4: \",\"color\":\"dark_purple\"},{\"nbt\":\"RecordSettings.Event4\",\"storage\":\"minecraft:animation\",\"interpret\":true},\"\\n\",{\"text\":\"Cmd\",\"color\":\"dark_green\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 53\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Sync\",\"color\":\"blue\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 63\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"Score\",\"color\":\"gold\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 73\"}},{\"text\":\" | \",\"color\":\"gray\"},{\"text\":\"X\",\"color\":\"red\",\"clickEvent\":{\"action\":\"run_command\",\"value\":\"/trigger settings set 83\"}}]"],title:"§d§lSettings",author:""}
