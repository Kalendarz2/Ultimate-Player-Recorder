#Clear chat
tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]

#General frame settings
execute if score $frame_edit rc_id matches ..9 run data modify storage minecraft:animation RecordSettings.EditorTitle set value 'o=====o'
execute if score $frame_edit rc_id matches 10..99 run data modify storage minecraft:animation RecordSettings.EditorTitle set value 'o====o'
execute if score $frame_edit rc_id matches 100..999 run data modify storage minecraft:animation RecordSettings.EditorTitle set value 'o===o'
execute if score $frame_edit rc_id matches 1000..9999 run data modify storage minecraft:animation RecordSettings.EditorTitle set value 'o==o'
execute if score $frame_edit rc_id matches 10000.. run data modify storage minecraft:animation RecordSettings.EditorTitle set value 'o=o'

execute if data storage minecraft:animation Edit.Clipboard run data modify storage minecraft:animation RecordSettings.EditorPaste set value '[{"text":"§5§lPaste","clickEvent":{"action":"run_command","value":"/trigger edit set 11"},"hoverEvent":{"action":"show_text","contents":[{"text":"Paste data to all selected frames","color":"gold"}]}}]'
execute unless data storage minecraft:animation Edit.Clipboard run data modify storage minecraft:animation RecordSettings.EditorPaste set value '[{"text":"§8§lPaste","hoverEvent":{"action":"show_text","contents":[{"text":"Paste data to all selected frames","color":"gray"}]}}]'

execute if score $editor rc_frames matches 2.. run data modify storage minecraft:animation RecordSettings.EditorDelete set value '[{"text":"§c§lDelete","clickEvent":{"action":"run_command","value":"/trigger edit set 13"},"hoverEvent":{"action":"show_text","contents":[{"text":"Delete all selected frames","color":"gold"}]}}]'
execute if score $editor rc_frames matches ..1 run data modify storage minecraft:animation RecordSettings.EditorDelete set value '[{"text":"§8§lDelete","hoverEvent":{"action":"show_text","contents":[{"text":"Delete all selected frames","color":"gray"}]}}]'
execute unless entity @e[tag=frame_selection_start] run data modify storage minecraft:animation RecordSettings.EditorSelection set value '{"text":"NONE","color":"yellow"}'
execute if entity @e[tag=frame_selection_start] run data modify storage minecraft:animation RecordSettings.EditorSelection set value '["",{"score":{"name":"@e[tag=frame_selection_start,limit=1]","objective":"rc_id"},"color":"yellow"},{"text":" - ","color":"yellow"},{"score":{"name":"@e[tag=frame_selection_end,limit=1]","objective":"rc_id"},"color":"yellow"}]'

data modify storage minecraft:animation RecordSettings.EditorSaveAs set value '["",{"text":"Save as...","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Save the selected part as a new animation","color":"gray"}]}}]'

execute if entity @e[tag=frame_selection_start] if entity @e[tag=frame_selection_end] run data modify storage minecraft:animation RecordSettings.EditorSaveAs set value '["",{"text":"Save as...","bold":true,"color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger edit set 17"},"hoverEvent":{"action":"show_text","contents":[{"text":"Save the selected part as a new animation","color":"gold"}]}}]'

tellraw @s ["",{"text":"o=====o","strikethrough":true,"color":"gray"},{"text":" Editor","bold":true,"color":"light_purple"},{"text":" | ","bold":true,"color":"gray"},{"text":"Frame ","bold":true,"color":"gold"},{"score":{"name":"$frame_edit","objective":"rc_id"},"color":"yellow"}," ",{"nbt":"RecordSettings.EditorTitle","storage":"minecraft:animation","color":"gray","strikethrough":true},"\n",{"text":"Copy","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger edit set 10"},"hoverEvent":{"action":"show_text","contents":[{"text":"Copy data from this frame","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"nbt":"RecordSettings.EditorPaste","storage":"minecraft:animation","interpret":true},{"text":" | ","bold":true,"color":"gray"},{"text":"Duplicate","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger edit set 12"},"hoverEvent":{"action":"show_text","contents":[{"text":"Duplicate this frame or all other selected frames and paste them before this frame","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"nbt":"RecordSettings.EditorDelete","storage":"minecraft:animation","interpret":true},{"text":"\n\n         Selection: ","color":"gold","bold":true},{"nbt":"RecordSettings.EditorSelection","storage":"minecraft:animation","interpret":true},{"text":"\nStart","bold":true,"color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger edit set 14"},"hoverEvent":{"action":"show_text","contents":[{"text":"Mark this frame as the starting point for the selection","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"text":"End","bold":true,"color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger edit set 15"},"hoverEvent":{"action":"show_text","contents":[{"text":"Mark this frame as the ending point for the selection","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"text":"Reset","bold":true,"color":"dark_aqua","clickEvent":{"action":"run_command","value":"/trigger edit set 16"},"hoverEvent":{"action":"show_text","contents":[{"text":"Clear selection","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"nbt":"RecordSettings.EditorSaveAs","storage":"minecraft:animation","interpret":true},{"text":"\no=============================o","strikethrough":true,"color":"gray"}]

#Submenu
execute if score $editor rc_menu matches 0 run function rc:editor/settings/menu/modules
execute if score $editor rc_menu matches 1 run function rc:editor/settings/menu/position
execute if score $editor rc_menu matches 2 run function rc:editor/settings/menu/rotation
execute if score $editor rc_menu matches 3 run function rc:editor/settings/menu/blocks
execute if score $editor rc_menu matches 4 run function rc:editor/settings/menu/event/event
execute if score $editor rc_menu matches 5..7 run function rc:editor/settings/menu/entity

tellraw @s {"text":"o=============================o","strikethrough":true,"color":"gray"}

#Frame control
execute if score $editor rc_shift matches 0 run data modify storage minecraft:animation RecordSettings.EditorTicking set value '["",{"text":"○","color":"blue","clickEvent":{"action":"run_command","value":"/trigger edit set 18"},"hoverEvent":{"action":"show_text","contents":[{"text":"Enable ticking","color":"gold"}]}}]'
execute if score $editor rc_shift matches 1 run data modify storage minecraft:animation RecordSettings.EditorTicking set value '["",{"text":"Φ","color":"blue","clickEvent":{"action":"run_command","value":"/trigger edit set 19"},"hoverEvent":{"action":"show_text","contents":[{"text":"Disable ticking","color":"gold"}]}}]'

execute if score $frame_edit rc_id matches 2.. run data modify storage minecraft:animation RecordSettings.EditorPageBack set value '["",{"text":"<<<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 2"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go back 100 frames","color":"gold"}]}},{"text":" | ","color":"dark_gray"},{"text":"<<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 3"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go back 10 frames","color":"gold"}]}},{"text":" | ","color":"dark_gray"},{"text":"<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 4"},"hoverEvent":{"action":"show_text","contents":[{"text":"Previous frame","color":"gold"}]}}]'
execute if score $frame_edit rc_id matches ..1 run data modify storage minecraft:animation RecordSettings.EditorPageBack set value '["",{"text":"<<<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go back 100 frames","color":"gray"}]}},{"text":" | ","color":"dark_gray"},{"text":"<<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go back 10 frames","color":"gray"}]}},{"text":" | ","color":"dark_gray"},{"text":"<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Previous frame","color":"gray"}]}}]'

execute if score $frame_edit rc_id < $editor rc_frames run data modify storage minecraft:animation RecordSettings.EditorPageNext set value '["",{"text":">","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Next frame","color":"gold"}]}},{"text":" | ","color":"dark_gray"},{"text":">>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 6"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 10 frames","color":"gold"}]}},{"text":" | ","color":"dark_gray"},{"text":">>>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 7"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 100 frames","color":"gold"}]}}]'
execute if score $frame_edit rc_id >= $editor rc_frames run data modify storage minecraft:animation RecordSettings.EditorPageNext set value '["",{"text":">","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Next frame","color":"gray"}]}},{"text":" | ","color":"dark_gray"},{"text":">>","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 10 frames","color":"gray"}]}},{"text":" | ","color":"dark_gray"},{"text":">>>","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 100 frames","color":"gray"}]}}]'

tellraw @s ["",{"nbt":"RecordSettings.EditorPageBack","storage":"minecraft:animation","interpret":true},{"text":" | ","color":"dark_gray"},{"text":"X","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger edit set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Cancel","color":"red"}]}},{"text":" | ","color":"dark_gray"},{"nbt":"RecordSettings.EditorTicking","storage":"minecraft:animation","interpret":true},{"text":" | ","color":"dark_gray"},{"text":"✔","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger edit set 1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Save","color":"green"}]}},{"text":" | ","color":"dark_gray"},{"nbt":"RecordSettings.EditorPageNext","storage":"minecraft:animation","interpret":true}]