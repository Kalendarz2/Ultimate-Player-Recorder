#Page multiplier
scoreboard players operation $menu rc_id = $menu rc_menu
scoreboard players add $menu rc_menu 1
scoreboard players add $menu rc_id 5

#Prepare data
execute if score $menu rc_id matches ..200 run scoreboard players operation $id rc_id = $menu rc_id
execute if score $menu rc_id matches ..200 run function rc:menu/load_hardcoded
execute if score $menu rc_id matches ..200 run data remove storage minecraft:animation GetAnimation
execute if score $menu rc_id matches 201.. run data modify storage minecraft:animation Menu set from storage minecraft:animation Animation
execute if score $menu rc_id matches 201.. run function rc:menu/load

#Clear chat
tellraw @s ["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]

#General
tellraw @s ["",{"text":"o===o","strikethrough":true,"color":"gray"},{"text":" Recording Menu ","bold":true,"color":"light_purple"},{"text":"o===o","strikethrough":true,"color":"gray"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Record new animation","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"text":"Import","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/trigger import set 1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Import animation from an item","color":"gold"}]}},{"text":" | ","bold":true,"color":"gray"},{"text":"Delete All","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Clear all animations","color":"gold"}]}},"\n",{"text":"o=========================o","strikethrough":true,"color":"gray"},"\n"]

#1
execute if data storage minecraft:animation MenuData.1.Name run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"nbt":"MenuData.1.Loop","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Animation looping","color":"gold"}]}},{"nbt":"MenuData.1.Relative","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Relative position","color":"gold"}]}},{"text":" | ","bold":true,"color":"gold"},{"text":"F: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Number of frames","color":"gold"}]}},{"nbt":"MenuData.1.Length","storage":"minecraft:animation","color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"N: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Animation name","color":"gold"}]}},{"nbt":"MenuData.1.Name","storage":"minecraft:animation","bold":true,"color":"aqua"},"\n",{"text":"Edit ","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 1"}},{"text":"Copy ","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger copy set 1"}},{"text":"Get Item ","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger item set 1"}},{"text":"Delete","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set 1"}}]
execute unless data storage minecraft:animation MenuData.1.Name unless data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 1"}}]
execute unless data storage minecraft:animation MenuData.1.Name if data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record ","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 1"}},{"text":"Paste","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger paste set 1"}}]
scoreboard players add $menu rc_menu 1
tellraw @s {"text":"                                        ","strikethrough":true,"color":"gray"}

#2
execute if data storage minecraft:animation MenuData.2.Name run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"nbt":"MenuData.2.Loop","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Animation looping","color":"gold"}]}},{"nbt":"MenuData.2.Relative","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Relative position","color":"gold"}]}},{"text":" | ","bold":true,"color":"gold"},{"text":"F: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Number of frames","color":"gold"}]}},{"nbt":"MenuData.2.Length","storage":"minecraft:animation","color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"N: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Animation name","color":"gold"}]}},{"nbt":"MenuData.2.Name","storage":"minecraft:animation","bold":true,"color":"aqua"},"\n",{"text":"Edit ","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 2"}},{"text":"Copy ","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger copy set 2"}},{"text":"Get Item ","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger item set 2"}},{"text":"Delete","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set 2"}}]
execute unless data storage minecraft:animation MenuData.2.Name unless data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 2"}}]
execute unless data storage minecraft:animation MenuData.2.Name if data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record ","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 2"}},{"text":"Paste","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger paste set 2"}}]
scoreboard players add $menu rc_menu 1
tellraw @s {"text":"                                        ","strikethrough":true,"color":"gray"}

#3
execute if data storage minecraft:animation MenuData.3.Name run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"nbt":"MenuData.3.Loop","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Animation looping","color":"gold"}]}},{"nbt":"MenuData.3.Relative","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Relative position","color":"gold"}]}},{"text":" | ","bold":true,"color":"gold"},{"text":"F: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Number of frames","color":"gold"}]}},{"nbt":"MenuData.3.Length","storage":"minecraft:animation","color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"N: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Animation name","color":"gold"}]}},{"nbt":"MenuData.3.Name","storage":"minecraft:animation","bold":true,"color":"aqua"},"\n",{"text":"Edit ","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 3"}},{"text":"Copy ","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger copy set 3"}},{"text":"Get Item ","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger item set 3"}},{"text":"Delete","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set 3"}}]
execute unless data storage minecraft:animation MenuData.3.Name unless data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 3"}}]
execute unless data storage minecraft:animation MenuData.3.Name if data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record ","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 3"}},{"text":"Paste","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger paste set 3"}}]
scoreboard players add $menu rc_menu 1
tellraw @s {"text":"                                        ","strikethrough":true,"color":"gray"}

#4
execute if data storage minecraft:animation MenuData.4.Name run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"nbt":"MenuData.4.Loop","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Animation looping","color":"gold"}]}},{"nbt":"MenuData.4.Relative","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Relative position","color":"gold"}]}},{"text":" | ","bold":true,"color":"gold"},{"text":"F: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Number of frames","color":"gold"}]}},{"nbt":"MenuData.4.Length","storage":"minecraft:animation","color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"N: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Animation name","color":"gold"}]}},{"nbt":"MenuData.4.Name","storage":"minecraft:animation","bold":true,"color":"aqua"},"\n",{"text":"Edit ","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 4"}},{"text":"Copy ","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger copy set 4"}},{"text":"Get Item ","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger item set 4"}},{"text":"Delete","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set 4"}}]
execute unless data storage minecraft:animation MenuData.4.Name unless data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 4"}}]
execute unless data storage minecraft:animation MenuData.4.Name if data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record ","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 4"}},{"text":"Paste","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger paste set 4"}}]
scoreboard players add $menu rc_menu 1
tellraw @s {"text":"                                        ","strikethrough":true,"color":"gray"}

#5
execute if data storage minecraft:animation MenuData.5.Name run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"nbt":"MenuData.5.Loop","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Animation looping","color":"gold"}]}},{"nbt":"MenuData.5.Relative","storage":"minecraft:animation","hoverEvent":{"action":"show_text","contents":[{"text":"Relative position","color":"gold"}]}},{"text":" | ","bold":true,"color":"gold"},{"text":"F: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Number of frames","color":"gold"}]}},{"nbt":"MenuData.5.Length","storage":"minecraft:animation","color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"N: ","color":"gray","hoverEvent":{"action":"show_text","contents":[{"text":"Animation name","color":"gold"}]}},{"nbt":"MenuData.5.Name","storage":"minecraft:animation","bold":true,"color":"aqua"},"\n",{"text":"Edit ","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger edit set 5"}},{"text":"Copy ","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger copy set 5"}},{"text":"Get Item ","bold":true,"color":"dark_green","clickEvent":{"action":"run_command","value":"/trigger item set 5"}},{"text":"Delete","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger delete set 5"}},"\n"]
execute unless data storage minecraft:animation MenuData.5.Name unless data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 5"}},"\n"]
execute unless data storage minecraft:animation MenuData.5.Name if data storage minecraft:animation Clipboard run tellraw @s ["",{"text":"ID: ","color":"gray"},{"score":{"name":"$menu","objective":"rc_menu"},"color":"white"},{"text":" | ","bold":true,"color":"gold"},{"text":"Empty ","color":"red"},"\n",{"text":"Record ","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/trigger record set 5"}},{"text":"Paste","bold":true,"color":"dark_purple","clickEvent":{"action":"run_command","value":"/trigger paste set 5"}},"\n"]

#Page control
execute if score @s menu matches 1 run tellraw @s ["",{"text":"<<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go back 5 pages","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Previous page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"X","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger menu set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Close menu","color":"red"}]}},{"text":" | ","color":"gray"},{"text":"O","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/trigger menu set -100"},"hoverEvent":{"action":"show_text","contents":[{"text":"Refresh menu","color":"yellow"}]}},{"text":" | ","color":"gray"},{"text":">","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu"},"hoverEvent":{"action":"show_text","contents":[{"text":"Next page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":">>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add 5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 5 pages","color":"gold"}]}}]
execute if score @s menu matches 2..5 run tellraw @s ["",{"text":"<<","bold":true,"color":"dark_gray","hoverEvent":{"action":"show_text","contents":[{"text":"Go back 5 pages","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Previous page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"X","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger menu set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Close menu","color":"red"}]}},{"text":" | ","color":"gray"},{"text":"O","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/trigger menu set -100"},"hoverEvent":{"action":"show_text","contents":[{"text":"Refresh menu","color":"yellow"}]}},{"text":" | ","color":"gray"},{"text":">","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu"},"hoverEvent":{"action":"show_text","contents":[{"text":"Next page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":">>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add 5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 5 pages","color":"gold"}]}}]
execute if score @s menu matches 6..40 run tellraw @s ["",{"text":"<<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add -5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go back 5 pages","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Previous page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"X","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger menu set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Close menu","color":"red"}]}},{"text":" | ","color":"gray"},{"text":"O","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/trigger menu set -100"},"hoverEvent":{"action":"show_text","contents":[{"text":"Refresh menu","color":"yellow"}]}},{"text":" | ","color":"gray"},{"text":">","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu"},"hoverEvent":{"action":"show_text","contents":[{"text":"Next page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":">>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add 5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 5 pages","color":"gold"}]}}]
execute if score @s menu matches 41.. run tellraw @s ["",{"text":"<<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add -5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go back 5 pages","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"<","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Previous page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":"X","bold":true,"color":"red","clickEvent":{"action":"run_command","value":"/trigger menu set -1"},"hoverEvent":{"action":"show_text","contents":[{"text":"Close menu","color":"red"}]}},{"text":" | ","color":"gray"},{"text":"O","bold":true,"color":"yellow","clickEvent":{"action":"run_command","value":"/trigger menu set -100"},"hoverEvent":{"action":"show_text","contents":[{"text":"Refresh menu","color":"yellow"}]}},{"text":" | ","color":"gray"},{"text":">","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu"},"hoverEvent":{"action":"show_text","contents":[{"text":"Next page","color":"gold"}]}},{"text":" | ","color":"gray"},{"text":">>","bold":true,"color":"gold","clickEvent":{"action":"run_command","value":"/trigger menu add 5"},"hoverEvent":{"action":"show_text","contents":[{"text":"Go forward 5 pages","color":"gold"}]}},{"text":" [!]","color":"dark_red","bold":true,"hoverEvent":{"action":"show_text","contents":[{"text":"Since Minecraft commands don't have the ability to dynamically select an element from an array, only 200 animation slots have been hardcoded, and the rest must go through iteration of the entire array. If you have a lot of long animations, loading them can take some time","color":"red"}]}}]

#Reset
data remove storage minecraft:animation MenuData
data modify storage minecraft:animation MenuData set value {1:{},2:{},3:{},4:{},5:{}}